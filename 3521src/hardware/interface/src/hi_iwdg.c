/**
 * **********************************************************************************
 * @copyright Copyright (c) 2023 Shaanxi Tianji Communication Technologies Co., Ltd.
 *
 * @file        hi_iwdg.c
 * @author      WangJun
 * @version     None
 * @date        2023-11-6
 * @brief       None
 *
 * **********************************************************************************
 */

#include "hi_iwdg.h"

/*---------------------- 端口定义 --------------------------------------*/


/*---------------------- 宏定义  ---------------------------------------*/


/*---------------------- 结构体 ----------------------------------------*/


/*---------------------- 常量 ------------------------------------------*/


/*---------------------- 全局变量 --------------------------------------*/


/*---------------------- 局部变量 --------------------------------------*/


/*---------------------- 声明 ------------------------------------------*/





/*****************************************************************************
* @Name	  : hi_iwdg_init
* @brief  : 看门狗初始化
* @author :
* @Data   :
* @Note   :
*****************************************************************************/
void hi_iwdg_init(void)
{
#if(MCU_SERIES == MCU_GD32F4XX)
    fwgd_init();
#elif(MCU_SERIES == MCU_STM32F4XX || MCU_SERIES == MCU_STM32H5XX)
    MX_IWDG_Init();
#endif
}

/*****************************************************************************
* @Name	  : hi_iwdg_feed
* @brief  : 喂狗
* @author :
* @Data   :
* @Note   :
*****************************************************************************/
void hi_iwdg_feed(void)
{
#if(MCU_SERIES == MCU_GD32F4XX)
    fwdgt_counter_reload();
#elif(MCU_SERIES == MCU_STM32F4XX || MCU_SERIES == MCU_STM32H5XX)
    HAL_IWDG_Refresh(&hiwdg);
#endif
}


